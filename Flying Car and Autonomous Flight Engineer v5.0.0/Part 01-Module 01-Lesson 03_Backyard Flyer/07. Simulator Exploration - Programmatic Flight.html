<!-- udacimak v1.4.4 -->
<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="ie=edge" http-equiv="X-UA-Compatible"/>
  <title>
   Simulator Exploration - Programmatic Flight
  </title>
  <link href="../assets/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="../assets/css/plyr.css" rel="stylesheet"/>
  <link href="../assets/css/katex.min.css" rel="stylesheet"/>
  <link href="../assets/css/jquery.mCustomScrollbar.min.css" rel="stylesheet"/>
  <link href="../assets/css/styles.css" rel="stylesheet"/>
  <link href="../assets/img/udacimak.png" rel="shortcut icon" type="image/png">
  </link>
 </head>
 <body>
  <div class="wrapper">
   <nav id="sidebar">
    <div class="sidebar-header">
     <h3>
      Backyard Flyer
     </h3>
    </div>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled components">
     <li class="">
      <a href="01. Lesson Introduction.html">
       01. Lesson Introduction
      </a>
     </li>
     <li class="">
      <a href="02. Lesson Overview.html">
       02. Lesson Overview
      </a>
     </li>
     <li class="">
      <a href="03. Simulator Demonstration.html">
       03. Simulator Demonstration
      </a>
     </li>
     <li class="">
      <a href="04. Simulator Exploration - Manual Flight.html">
       04. Simulator Exploration - Manual Flight
      </a>
     </li>
     <li class="">
      <a href="05. Flight Computer Programming.html">
       05. Flight Computer Programming
      </a>
     </li>
     <li class="">
      <a href="06. Environment Setup.html">
       06. Environment Setup
      </a>
     </li>
     <li class="">
      <a href="07. Simulator Exploration - Programmatic Flight.html">
       07. Simulator Exploration - Programmatic Flight
      </a>
     </li>
     <li class="">
      <a href="08. The Problems with Sequential Execution.html">
       08. The Problems with Sequential Execution
      </a>
     </li>
     <li class="">
      <a href="09. Event Driven Programming.html">
       09. Event Driven Programming
      </a>
     </li>
     <li class="">
      <a href="10. Event Driven Programming Explained.html">
       10. Event Driven Programming Explained
      </a>
     </li>
     <li class="">
      <a href="11. A Simple Flight Plan.html">
       11. A Simple Flight Plan
      </a>
     </li>
     <li class="">
      <a href="12. Phases of Flight.html">
       12. Phases of Flight
      </a>
     </li>
     <li class="">
      <a href="13. Project Development Workflow Options.html">
       13. Project Development Workflow Options
      </a>
     </li>
     <li class="">
      <a href="14. Backyard Flyer (local development).html">
       14. Backyard Flyer (local development)
      </a>
     </li>
     <li class="">
      <a href="15. Virtual Machine Intro.html">
       15. Virtual Machine Intro
      </a>
     </li>
     <li class="">
      <a href="16. Backyard Flyer (X-Windows).html">
       16. Backyard Flyer (X-Windows)
      </a>
     </li>
     <li class="">
      <a href="17. Project Cheat Sheet.html">
       17. Project Cheat Sheet
      </a>
     </li>
     <li class="">
      <a href="Project Description - Backyard Flyer.html">
       Project Description - Backyard Flyer
      </a>
     </li>
     <li class="">
      <a href="Project Rubric - Backyard Flyer.html">
       Project Rubric - Backyard Flyer
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
   </nav>
   <div id="content">
    <header class="container-fluild header">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <div class="align-items-middle">
         <button class="btn btn-toggle-sidebar" id="sidebarCollapse" type="button">
          <div>
          </div>
          <div>
          </div>
          <div>
          </div>
         </button>
         <h1 style="display: inline-block">
          07. Simulator Exploration - Programmatic Flight
         </h1>
        </div>
       </div>
      </div>
     </div>
    </header>
    <main class="container">
     <div class="row">
      <div class="col-12">
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h1 id="simulator-exploration---programmatic-flight">
          Simulator Exploration - Programmatic Flight
         </h1>
         <p>
          Now it's time to actually control the drone with your own Python code.
         </p>
         <blockquote>
          <p>
           NOTE - This section assumes you've completed the steps to setup your environment on the previous page.
          </p>
         </blockquote>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <div>
          <h4>
           Task Description:
          </h4>
          <p>
           Are you ready to start controlling the drone with code? Make sure you've completed the tasks below before you begin.
          </p>
         </div>
         <form>
          <fieldset>
           <legend>
            Task List:
           </legend>
           <div>
            <input id="9c27cd1c-db00-4bf6-b75d-3caef8e5de7b--0" type="checkbox"/>
            <label for="9c27cd1c-db00-4bf6-b75d-3caef8e5de7b--0">
             <p>
              I've downloaded the drone simulator and commanded the drone with my keyboard.
             </p>
            </label>
           </div>
           <div>
            <input id="9c27cd1c-db00-4bf6-b75d-3caef8e5de7b--1" type="checkbox"/>
            <label for="9c27cd1c-db00-4bf6-b75d-3caef8e5de7b--1">
             <p>
              I've downloaded and installed Miniconda.
             </p>
            </label>
           </div>
           <div>
            <input id="9c27cd1c-db00-4bf6-b75d-3caef8e5de7b--2" type="checkbox"/>
            <label for="9c27cd1c-db00-4bf6-b75d-3caef8e5de7b--2">
             <p>
              I've cloned the FCND Starter Kit repository.
             </p>
            </label>
           </div>
           <div>
            <input id="9c27cd1c-db00-4bf6-b75d-3caef8e5de7b--3" type="checkbox"/>
            <label for="9c27cd1c-db00-4bf6-b75d-3caef8e5de7b--3">
             <p>
              I've created the
              <code>
               fcnd
              </code>
              conda environment in the starter kit directory.
             </p>
            </label>
           </div>
          </fieldset>
         </form>
         <div>
          <h4>
           Task Feedback:
          </h4>
          <p>
           You are ready to begin controlling the drone with Python code!
          </p>
         </div>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h2 id="communicating-with-the-drone-using-the-api">
          Communicating with the Drone using the API
         </h2>
         <p>
          In order to use the Drone API to communicate with the simulator. You first need to open the simulator.
         </p>
         <p>
          Next, you will need to activate the environment via your terminal using the following command
         </p>
         <pre><code class="pyth language-pyth">source activate fcnd</code></pre>
         <p>
          Now the drone can be manually started from a python / ipython shell! From the terminal start ipython:
         </p>
         <pre><code>ipython</code></pre>
         <p>
          Now you can initialize the drone with the following commands:
         </p>
         <pre><code>from udacidrone import Drone
from udacidrone.connection import MavlinkConnection
conn = MavlinkConnection('tcp:127.0.0.1:5760', threaded=True)
drone = Drone(conn)
drone.start()</code></pre>
         <p>
          Now take control of the drone and arm the rotors. Briefly pause in between executing code snippets as running them in immediate succession can cause strange drone behavior within the simulator.
         </p>
         <pre><code>drone.take_control()
drone.arm()</code></pre>
         <p>
          Now set the drone's "home position"
         </p>
         <pre><code>drone.set_home_position(drone.global_position[0], 
                        drone.global_position[1], 
                        drone.global_position[2])</code></pre>
         <p>
          And now you can take off (to a height of 3 meters)!
         </p>
         <pre><code>drone.takeoff(3)</code></pre>
         <p>
          Once you're in the air, you can fly around by commanding the drone to waypoints.
         </p>
         <pre><code>drone.cmd_position(5,0,3,0)</code></pre>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h3 id="drone-commands">
          Drone Commands
         </h3>
         <p>
          There are many commands you can issue to the drone through this API. Some of them includeâ€¦
         </p>
         <p>
          <code>
           start()
          </code>
          : Start receiving messages from the drone. If the connection is not threaded, this will block the code
         </p>
         <p>
          <code>
           stop()
          </code>
          : Terminate the connection with the drone and close the telemetry log
         </p>
         <p>
          <code>
           take_control()
          </code>
          : Set the command mode of the quad to guided.
         </p>
         <p>
          <code>
           release_control()
          </code>
          : Set the command mode of the quad to manual.
         </p>
         <p>
          <code>
           arm()
          </code>
          : Arms the motors of the quad, the rotors begin spinning. The drone cannot takeoff until armed.
         </p>
         <p>
          <code>
           disarm()
          </code>
          : Disarms the motors of the quad. The quadcopter cannot be disarmed in the air.
         </p>
         <p>
          <code>
           cmd_position(north, east, down, heading)
          </code>
          : Command the vehicle to travel to the local position (north, east, down). Also commands the quad to maintain a specified heading.
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <form>
          <fieldset>
           <legend>
            <p>
             Were you able to connect to the simulator and control it with Python code?
            </p>
           </legend>
          </fieldset>
          <div>
           <input id="a1516389934572" name="511386" type="radio" value="a1516389934572"/>
           <label for="a1516389934572">
            <p>
             Yes
            </p>
           </label>
          </div>
          <div>
           <input id="a1516389955899" name="511386" type="radio" value="a1516389955899"/>
           <label for="a1516389955899">
            <p>
             No
            </p>
           </label>
          </div>
         </form>
         <details>
          <summary>
           <strong>
            SOLUTION:
           </strong>
          </summary>
          Yes
         </details>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h4 id="full-api-documentation">
          Full API Documentation
         </h4>
         <p>
          To learn more about this
          <code>
           Drone
          </code>
          class and the provided API, check out the
          <a href="https://github.com/udacity/udacidrone" rel="noopener noreferrer" target="_blank">
           README in the Github repo
          </a>
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
      </div>
      <div class="col-12">
       <p class="text-right">
        <a class="btn btn-outline-primary mt-4" href="08. The Problems with Sequential Execution.html" role="button">
         Next Concept
        </a>
       </p>
      </div>
     </div>
    </main>
    <footer class="footer">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <p class="text-center">
         udacity2.0 If you need the newest courses Plase add me wechat: udacity6
        </p>
       </div>
      </div>
     </div>
    </footer>
   </div>
  </div>
  <script src="../assets/js/jquery-3.3.1.min.js">
  </script>
  <script src="../assets/js/plyr.polyfilled.min.js">
  </script>
  <script src="../assets/js/bootstrap.min.js">
  </script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js">
  </script>
  <script src="../assets/js/katex.min.js">
  </script>
  <script>
   // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('07. Simulator Exploration - Programmatic Flight')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
 </body>
</html>
